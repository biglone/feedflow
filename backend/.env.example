# Database (Neon PostgreSQL)
DATABASE_URL=postgresql://username:password@host/database?sslmode=require

# JWT Secret (generate a random string)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Server Port
PORT=3000

# YouTube Data API (get from Google Cloud Console)
YOUTUBE_API_KEY=your-youtube-api-key

# Google OAuth2 (for YouTube account login)
# Get from Google Cloud Console -> Credentials -> OAuth 2.0 Client ID (iOS)
# Client ID: The full client ID from Google Cloud Console
# Client Secret: For iOS apps, this is typically empty or not required
# Redirect URI: Use the REVERSED_CLIENT_ID from the downloaded plist file
GOOGLE_CLIENT_ID=63291274114-3g4e3237ffi0qc6rlmudqj1mg604t7ej.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=com.googleusercontent.apps.63291274114-3g4e3237ffi0qc6rlmudqj1mg604t7ej:/oauth2redirect

# Protect /api/youtube/proxy/* with signed expiring URLs
# - When STREAM_PROXY_SECRET is set, /api/youtube/stream/* mints signed proxy URLs.
# - /api/youtube/stream/* requires either:
#   - a valid app JWT (Authorization: Bearer <token>), or
#   - X-FeedFlow-Stream-Token matching STREAM_PROXY_ACCESS_TOKEN (for trusted clients / local mode).
# - STREAM_PROXY_TTL_SECONDS should be <= the lifetime of YouTube stream URLs (typically a few hours).
STREAM_PROXY_SECRET=change-me-to-a-random-string
STREAM_PROXY_ACCESS_TOKEN=change-me-to-a-random-string
STREAM_PROXY_TTL_SECONDS=21600

# YouTube stream URL mode
# - proxy (default): /api/youtube/stream returns signed /api/youtube/proxy URLs and the backend proxies the bytes.
# - direct: /api/youtube/stream returns YouTube media URLs directly (recommended for Vercel / clients that can reach YouTube).
# When running on Vercel, the default becomes `direct` unless overridden.
YOUTUBE_STREAM_URL_MODE=proxy

# yt-dlp cookies (optional; helps with "Please sign in to continue" / bot-check errors)
# Provide either:
# - YTDLP_COOKIES_PATH: path to a cookies.txt file on disk, or
# - YTDLP_COOKIES_BASE64: base64-encoded contents of cookies.txt (useful for serverless platforms).
# Never commit cookies to git.
# YTDLP_COOKIES_PATH=/path/to/cookies.txt
# YTDLP_COOKIES_BASE64=
